Oct-08 10:39:13.949 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --INDEX /private/groups/kimlab/vikas/refs/metagenomics_index/ --INPUT_FOLDER /private/groups/kimlab/vikas/metagenomics/publication/ncm_2024/input/time_tagged_input/CSF001/ --LOW_COMPLEXITY_FILTER_NANOPORE --ALIGN_ALL_FUNGI --KRAKEN_PREFILTER --PREFILTER_THRESHOLD 5 --CHOPPER_MAXLENGTH 500000 --CHOPPER_QUALITY 9 --OUTPUT aPOMP_out_kraken -with-docker 'ubuntu:18.04' -with-report -with-trace -profile server -resume
Oct-08 10:39:14.172 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.04.4
Oct-08 10:39:14.204 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/private/home/vpeddu/.nextflow/plugins; core-plugins: nf-amazon@2.5.3,nf-azure@1.6.1,nf-cloudcache@0.4.1,nf-codecommit@0.2.1,nf-console@1.1.3,nf-ga4gh@1.3.0,nf-google@1.13.2-patch1,nf-tower@1.9.1,nf-wave@1.4.2-patch1
Oct-08 10:39:14.222 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-08 10:39:14.224 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-08 10:39:14.230 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Oct-08 10:39:14.253 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-08 10:39:14.319 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /data/scratch/vpeddu/aPOMP/nextflow.config
Oct-08 10:39:14.333 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /data/scratch/vpeddu/aPOMP/nextflow.config
Oct-08 10:39:14.380 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /private/home/vpeddu/.nextflow/secrets/store.json
Oct-08 10:39:14.386 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@971e903] - activable => nextflow.secret.LocalSecretsProvider@971e903
Oct-08 10:39:14.406 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `server`
Oct-08 10:39:15.783 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, server, cluster, laptop, aws]
Oct-08 10:39:15.847 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by command-line option `-with-docker ubuntu:18.04`
Oct-08 10:39:15.863 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Oct-08 10:39:15.891 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [boring_yonath] DSL2 - revision: 2e3ea6b4da
Oct-08 10:39:15.893 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Oct-08 10:39:15.894 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-tower@1.9.1]
Oct-08 10:39:15.895 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.9.1
Oct-08 10:39:15.905 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.9.1' resolved
Oct-08 10:39:15.905 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.9.1'
Oct-08 10:39:15.924 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.9.1
Oct-08 10:39:16.031 [main] DEBUG nextflow.Session - Session UUID: 1cf2e3c2-64a8-4876-8a9b-bdab0fb6acda
Oct-08 10:39:16.032 [main] DEBUG nextflow.Session - Run name: boring_yonath
Oct-08 10:39:16.032 [main] DEBUG nextflow.Session - Executor pool size: 160
Oct-08 10:39:16.044 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Oct-08 10:39:16.052 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=480; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Oct-08 10:39:16.081 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.04.4 build 5917
  Created: 01-08-2024 07:05 UTC (00:05 PDT)
  System: Linux 5.15.0-89-generic
  Runtime: Groovy 4.0.21 on OpenJDK 64-Bit Server VM 11.0.9.1-internal+0-adhoc..src
  Encoding: UTF-8 (UTF-8)
  Process: 3620583@mustard [127.0.1.1]
  CPUs: 160 - Mem: 1.5 TB (44.8 GB) - Swap: 8 GB (6.7 GB)
Oct-08 10:39:16.160 [main] DEBUG nextflow.Session - Work-dir: /data/scratch/vpeddu/aPOMP/work [xfs]
Oct-08 10:39:16.218 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Oct-08 10:39:16.236 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-08 10:39:16.248 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Oct-08 10:39:16.292 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-08 10:39:16.309 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 161; maxThreads: 1000
Oct-08 10:39:16.472 [main] DEBUG nextflow.Session - Session start
Oct-08 10:39:16.476 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /data/scratch/vpeddu/aPOMP/trace-20241008-38355813.txt
Oct-08 10:39:17.816 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-08 10:39:17.828 [main] WARN  nextflow.NextflowMeta$Preview - NEXTFLOW RECURSION IS A PREVIEW FEATURE - SYNTAX AND FUNCTIONALITY CAN CHANGE IN FUTURE RELEASES
Oct-08 10:39:20.007 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Chopper` matches process Chopper
Oct-08 10:39:20.029 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.030 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.040 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Oct-08 10:39:20.048 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=160; memory=1.5 TB; capacity=160; pollInterval=100ms; dumpInterval=5m
Oct-08 10:39:20.052 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Oct-08 10:39:20.147 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:NanoPlot` matches process NanoPlot
Oct-08 10:39:20.148 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.149 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.162 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.162 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.196 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Host_depletion_nanopore` matches process Host_depletion_nanopore
Oct-08 10:39:20.200 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.200 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.232 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Kraken_prefilter_nanopore` matches process Kraken_prefilter_nanopore
Oct-08 10:39:20.234 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.234 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.271 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.271 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.353 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Minimap2_nanopore` matches process Minimap2_nanopore
Oct-08 10:39:20.356 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.357 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.395 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Collect_alignment_results` matches process Collect_alignment_results
Oct-08 10:39:20.398 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.398 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.424 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.424 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.452 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.452 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.466 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-08 10:39:20.466 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-08 10:39:20.472 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: Low_complexity_filtering_nanopore, Extract_db, Cluster_unclassified_reads, Classify, Collect_unassigned_results_illumina, Host_depletion_illumina, Minimap2_nanopore, Sam_conversion, Chopper_RT, Write_report_RT, Align_fungi, Collect_unassigned_results_RT, Trimming_FastP, Minimap2_illumina, Kraken_prefilter, Extract_true_novel, NanoPlot, Collect_unassigned_results, Write_report, Sourmash_prefilter_nanopore, Eggnog_mapper, Identify_resistant_plasmids, Collect_alignment_results, Kraken_prefilter_nanopore, Merge_classifiy_RT, Classify_RT, Accumulate_reports, MetaFlye, Extract_fungi, Low_complexity_filtering, Collect_alignment_results_RT, Host_depletion_nanopore, Classify_orthologs, Diamond_translated_alignment_unclassified, Combine_fq, Chopper, Write_report_orthologs
Oct-08 10:39:20.480 [main] DEBUG nextflow.Session - Igniting dataflow network (19)
Oct-08 10:39:20.500 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /private/groups/kimlab/vikas/metagenomics/publication/ncm_2024/input/time_tagged_input/CSF001/; pattern: **.fastq.gz; options: [:]
Oct-08 10:39:20.503 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Chopper
Oct-08 10:39:20.510 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > NanoPlot
Oct-08 10:39:20.513 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Low_complexity_filtering_nanopore
Oct-08 10:39:20.521 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Host_depletion_nanopore
Oct-08 10:39:20.522 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Kraken_prefilter_nanopore
Oct-08 10:39:20.524 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Extract_db
Oct-08 10:39:20.525 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Minimap2_nanopore
Oct-08 10:39:20.526 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Collect_alignment_results
Oct-08 10:39:20.526 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Collect_unassigned_results
Oct-08 10:39:20.527 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Classify
Oct-08 10:39:20.528 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Write_report
Oct-08 10:39:20.530 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_1b109e1f3d0b60c1: /data/scratch/vpeddu/aPOMP/main.nf
  Script_785641a1e96b2f47: /data/scratch/vpeddu/aPOMP/./illumina_modules.nf
  Script_981e6b93449c97e5: /data/scratch/vpeddu/aPOMP/./nanopore_modules.nf
Oct-08 10:39:20.530 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Oct-08 10:39:20.530 [main] DEBUG nextflow.Session - Session await
Oct-08 10:39:20.883 [Actor Thread 46] INFO  nextflow.processor.TaskProcessor - [df/17f062] Cached process > Chopper (1)
Oct-08 10:39:20.962 [Actor Thread 55] INFO  nextflow.processor.TaskProcessor - [f7/86c616] Cached process > NanoPlot (1)
Oct-08 10:39:21.065 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Oct-08 10:39:21.069 [Task submitter] INFO  nextflow.Session - [93/c34442] Submitted process > Low_complexity_filtering_nanopore (1)
Oct-08 10:39:29.053 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: Low_complexity_filtering_nanopore (1); status: COMPLETED; exit: 0; error: -; workDir: /data/scratch/vpeddu/aPOMP/work/93/c34442e68b7dbc37cb7b4597874814]
Oct-08 10:39:29.055 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=480; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Oct-08 10:39:29.183 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Oct-08 10:39:29.187 [Task submitter] INFO  nextflow.Session - [76/a4b00b] Submitted process > Host_depletion_nanopore (1)
Oct-08 10:39:54.345 [SIGINT handler] DEBUG nextflow.Session - Session aborted -- Cause: SIGINT
Oct-08 10:39:54.391 [SIGINT handler] DEBUG nextflow.Session - The following nodes are still active:
[process] Kraken_prefilter_nanopore
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: kraken2_db
  port 2: (cntrl) -     ; channel: $

[process] Extract_db
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: fastadb
  port 2: (value) bound ; channel: extract_script
  port 3: (value) bound ; channel: fungi_genera_list
  port 4: (value) bound ; channel: prefilter_threshold
  port 5: (cntrl) -     ; channel: $

[process] Minimap2_nanopore
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] Collect_alignment_results
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] Collect_unassigned_results
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: filter_unassigned_reads
  port 2: (cntrl) -     ; channel: $

[process] Classify
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: taxdump
  port 2: (value) bound ; channel: classify_script
  port 3: (cntrl) -     ; channel: $

[process] Write_report
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: taxasqlite
  port 2: (value) bound ; channel: write_report_script
  port 3: (cntrl) -     ; channel: $

Oct-08 10:39:54.395 [main] DEBUG nextflow.Session - Session await > all processes finished
Oct-08 10:39:54.397 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-08 10:39:54.398 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Oct-08 10:39:54.412 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (1)
Oct-08 10:39:54.433 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=0; ignoredCount=0; cachedCount=2; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=1; succeedDuration=30s; failedDuration=0ms; cachedDuration=13m 24s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=16; peakMemory=32 GB; ]
Oct-08 10:39:54.434 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Oct-08 10:39:54.437 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Oct-08 10:39:55.577 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-08 10:39:55.617 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.9.1'
Oct-08 10:39:55.618 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Oct-08 10:39:55.621 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
