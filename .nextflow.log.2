Aug-10 16:47:50.529 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --INPUT_FOLDER testing/ --HOST_STAR_INDEX testing/chrx_test_STAR/ -with-docker 'Ubuntu:18.04' -resume -with-trace --OUTPUT test_output
Aug-10 16:47:50.652 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 20.07.1
Aug-10 16:47:50.671 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [chaotic_newton] - revision: 74aed03979
Aug-10 16:47:50.782 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by cli option `-with-docker Ubuntu:18.04`
Aug-10 16:47:50.832 [main] DEBUG nextflow.Session - Session uuid: 3ee57b05-d46f-4282-bc02-a33ac81c74e7
Aug-10 16:47:50.832 [main] DEBUG nextflow.Session - Run name: chaotic_newton
Aug-10 16:47:50.834 [main] DEBUG nextflow.Session - Executor pool size: 8
Aug-10 16:47:51.139 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 20.07.1 build 5412
  Created: 24-07-2020 15:18 UTC (08:18 PDT)
  System: Mac OS X 10.15.7
  Runtime: Groovy 2.5.11 on OpenJDK 64-Bit Server VM 11.0.6+8-b765.1
  Encoding: UTF-8 (UTF-8)
  Process: 76855@MacBook-Pro-2.local [127.0.0.1]
  CPUs: 8 - Mem: 16 GB (75.1 MB) - Swap: 7 GB (751.5 MB)
Aug-10 16:47:51.168 [main] DEBUG nextflow.Session - Work-dir: /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work [Mac OS X]
Aug-10 16:47:51.168 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/bin
Aug-10 16:47:51.224 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Aug-10 16:47:51.226 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Aug-10 16:47:51.468 [main] DEBUG nextflow.Session - Session start invoked
Aug-10 16:47:51.474 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/trace.txt
Aug-10 16:47:51.931 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Aug-10 16:47:52.141 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: Trimming_FastP, Host_depletion
Aug-10 16:47:52.224 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-10 16:47:52.225 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-10 16:47:52.229 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Aug-10 16:47:52.238 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=8; memory=16 GB; capacity=8; pollInterval=100ms; dumpInterval=5m
Aug-10 16:47:52.343 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-10 16:47:52.343 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-10 16:47:52.346 [main] DEBUG nextflow.Session - Ignite dataflow network (4)
Aug-10 16:47:52.357 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Trimming_FastP
Aug-10 16:47:52.357 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: testing/; pattern: **_R{1,2}*.fastq.gz; options: [:]
Aug-10 16:47:52.359 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Host_depletion
Aug-10 16:47:52.360 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Aug-10 16:47:52.361 [main] DEBUG nextflow.Session - Session await
Aug-10 16:47:52.605 [Actor Thread 4] INFO  nextflow.processor.TaskProcessor - [4e/f07a57] Cached process > Trimming_FastP (1)
Aug-10 16:47:52.694 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Aug-10 16:47:52.700 [Task submitter] INFO  nextflow.Session - [f5/01c065] Submitted process > Host_depletion (1)
Aug-10 16:52:52.381 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 2; name: Host_depletion (1); status: RUNNING; exit: -; error: -; workDir: /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/f5/01c065d8af4eaa625b152b5dbb144f]
Aug-10 16:55:14.106 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: Host_depletion (1); status: COMPLETED; exit: 0; error: -; workDir: /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/f5/01c065d8af4eaa625b152b5dbb144f]
Aug-10 16:55:14.140 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Process `Host_depletion (1)` is unable to find [UnixPath]: `/Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/f5/01c065d8af4eaa625b152b5dbb144f/BioIVT_panc7_2-5_S89.starAligned.sortedByCoord.out.bam` (pattern: `BioIVT_panc7_2-5_S89.starAligned.sortedByCoord.out.bam`)
Aug-10 16:55:14.215 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'Host_depletion (1)'

Caused by:
  Missing output file(s) `BioIVT_panc7_2-5_S89.starAligned.sortedByCoord.out.bam` expected by process `Host_depletion (1)`

Command executed:

  #!/bin/bash
  #logging
  echo "ls of directory" 
  ls -lah 
  STAR       --runThreadN 4      --genomeDir chrx_test_STAR       --readFilesIn BioIVT_panc7_2-5_S89.trimmed.R1.fastq.gz BioIVT_panc7_2-5_S89.trimmed.R2.fastq.gz     --readFilesCommand zcat          --outSAMtype BAM Unsorted     --outReadsUnmapped Fastx     --outFileNamePrefix BioIVT_panc7_2-5_S89.star

Command exit status:
  0

Command output:
  ls of directory
  total 24K    
  drwxr-xrwx   12 root     root         384 Aug 10 23:47 .
  drwxr-xr-x    3 root     root          96 Aug 10 23:47 ..
  -rw-r--r--    1 root     root           0 Aug 10 23:47 .command.begin
  -rw-r--r--    1 root     root           0 Aug 10 23:47 .command.err
  -rw-r--r--    1 root     root          16 Aug 10 23:47 .command.log
  -rw-r--r--    1 root     root          16 Aug 10 23:47 .command.out
  -rw-r--r--    1 root     root        9.9K Aug 10 23:47 .command.run
  -rw-r--r--    1 root     root         356 Aug 10 23:47 .command.sh
  -rw-r--r--    1 root     root           0 Aug 10 23:47 .command.trace
  lrwxr-xr-x    1 root     root         126 Aug 10 23:47 BioIVT_panc7_2-5_S89.trimmed.R1.fastq.gz -> /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/4e/f07a57530348480cf64e94bc333c73/BioIVT_panc7_2-5_S89.trimmed.R1.fastq.gz
  lrwxr-xr-x    1 root     root         126 Aug 10 23:47 BioIVT_panc7_2-5_S89.trimmed.R2.fastq.gz -> /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/4e/f07a57530348480cf64e94bc333c73/BioIVT_panc7_2-5_S89.trimmed.R2.fastq.gz
  lrwxr-xr-x    1 root     root          69 Aug 10 23:47 chrx_test_STAR -> /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/testing/chrx_test_STAR
  	STAR --runThreadN 4 --genomeDir chrx_test_STAR --readFilesIn BioIVT_panc7_2-5_S89.trimmed.R1.fastq.gz BioIVT_panc7_2-5_S89.trimmed.R2.fastq.gz --readFilesCommand zcat --outSAMtype BAM Unsorted --outReadsUnmapped Fastx --outFileNamePrefix BioIVT_panc7_2-5_S89.star
  	STAR version: 2.7.9a   compiled: 2021-05-04T09:43:56-0400 vega:/home/dobin/data/STAR/STARcode/STAR.master/source
  Aug 10 23:47:53 ..... started STAR run
  Aug 10 23:47:53 ..... loading genome
  Aug 10 23:48:16 ..... started mapping
  Aug 10 23:55:02 ..... finished mapping
  Aug 10 23:55:13 ..... finished successfully

Work dir:
  /Users/vikas/Documents/UCSC/lab/kim_lab/evmeta/work/f5/01c065d8af4eaa625b152b5dbb144f

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Aug-10 16:55:14.233 [main] DEBUG nextflow.Session - Session await > all process finished
Aug-10 16:55:14.242 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Missing output file(s) `BioIVT_panc7_2-5_S89.starAligned.sortedByCoord.out.bam` expected by process `Host_depletion (1)`
Aug-10 16:55:14.295 [main] DEBUG nextflow.Session - Session await > all barriers passed
Aug-10 16:55:14.314 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=1; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=29m 20s; cachedDuration=20.3s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=4; peakMemory=0; ]
Aug-10 16:55:14.315 [main] DEBUG nextflow.trace.TraceFileObserver - Flow completing -- flushing trace file
Aug-10 16:55:14.516 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Aug-10 16:55:14.542 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
