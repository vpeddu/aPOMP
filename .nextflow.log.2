Oct-08 10:40:08.923 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf --INDEX /private/groups/kimlab/vikas/refs/metagenomics_index/ --INPUT_FOLDER /private/groups/kimlab/vikas/metagenomics/publication/ncm_2024/input/time_tagged_input/CSF001/ --LOW_COMPLEXITY_FILTER_NANOPORE --ALIGN_ALL_FUNGI --KRAKEN_PREFILTER --PREFILTER_THRESHOLD 5 --CHOPPER_MAXLENGTH 500000 --CHOPPER_QUALITY 9 --OUTPUT aPOMP_out_kraken -with-docker 'ubuntu:18.04' -with-report -with-trace -c /private/home/vpeddu/nextflow.config -profile cluster -resume
Oct-08 10:40:09.199 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.04.4
Oct-08 10:40:09.243 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/private/home/vpeddu/.nextflow/plugins; core-plugins: nf-amazon@2.5.3,nf-azure@1.6.1,nf-cloudcache@0.4.1,nf-codecommit@0.2.1,nf-console@1.1.3,nf-ga4gh@1.3.0,nf-google@1.13.2-patch1,nf-tower@1.9.1,nf-wave@1.4.2-patch1
Oct-08 10:40:09.271 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-08 10:40:09.274 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-08 10:40:09.284 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Oct-08 10:40:09.321 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-08 10:40:09.406 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /data/scratch/vpeddu/aPOMP/nextflow.config
Oct-08 10:40:09.418 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /private/home/vpeddu/nextflow.config
Oct-08 10:40:09.423 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /data/scratch/vpeddu/aPOMP/nextflow.config
Oct-08 10:40:09.425 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /private/home/vpeddu/nextflow.config
Oct-08 10:40:09.502 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /private/home/vpeddu/.nextflow/secrets/store.json
Oct-08 10:40:09.510 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@6a9b0a6f] - activable => nextflow.secret.LocalSecretsProvider@6a9b0a6f
Oct-08 10:40:09.544 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `cluster`
Oct-08 10:40:10.809 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `cluster`
Oct-08 10:40:10.839 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, server, cluster, laptop, aws]
Oct-08 10:40:10.897 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by command-line option `-with-docker ubuntu:18.04`
Oct-08 10:40:10.917 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Oct-08 10:40:10.943 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [nice_hoover] DSL2 - revision: 2e3ea6b4da
Oct-08 10:40:10.946 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Oct-08 10:40:10.947 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-tower@1.9.1]
Oct-08 10:40:10.948 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.9.1
Oct-08 10:40:10.957 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.9.1' resolved
Oct-08 10:40:10.957 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.9.1'
Oct-08 10:40:10.975 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.9.1
Oct-08 10:40:11.137 [main] DEBUG nextflow.Session - Session UUID: 1cf2e3c2-64a8-4876-8a9b-bdab0fb6acda
Oct-08 10:40:11.138 [main] DEBUG nextflow.Session - Run name: nice_hoover
Oct-08 10:40:11.138 [main] DEBUG nextflow.Session - Executor pool size: 160
Oct-08 10:40:11.150 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Oct-08 10:40:11.158 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=480; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Oct-08 10:40:11.185 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.04.4 build 5917
  Created: 01-08-2024 07:05 UTC (00:05 PDT)
  System: Linux 5.15.0-89-generic
  Runtime: Groovy 4.0.21 on OpenJDK 64-Bit Server VM 11.0.9.1-internal+0-adhoc..src
  Encoding: UTF-8 (UTF-8)
  Process: 3626142@mustard [127.0.1.1]
  CPUs: 160 - Mem: 1.5 TB (42.4 GB) - Swap: 8 GB (6.7 GB)
Oct-08 10:40:11.234 [main] DEBUG nextflow.Session - Work-dir: /data/scratch/vpeddu/aPOMP/work [xfs]
Oct-08 10:40:11.285 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Oct-08 10:40:11.301 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-08 10:40:11.311 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Oct-08 10:40:11.350 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-08 10:40:11.365 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 161; maxThreads: 1000
Oct-08 10:40:11.522 [main] DEBUG nextflow.Session - Session start
Oct-08 10:40:11.526 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow started -- trace file: /data/scratch/vpeddu/aPOMP/trace-20241008-38410866.txt
Oct-08 10:40:13.190 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-08 10:40:13.201 [main] WARN  nextflow.NextflowMeta$Preview - NEXTFLOW RECURSION IS A PREVIEW FEATURE - SYNTAX AND FUNCTIONALITY CAN CHANGE IN FUTURE RELEASES
Oct-08 10:40:16.647 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Chopper` matches process Chopper
Oct-08 10:40:16.681 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:16.682 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:16.707 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Oct-08 10:40:16.721 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 20; pollInterval: 5s; dumpInterval: 5m 
Oct-08 10:40:16.724 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: slurm)
Oct-08 10:40:16.729 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Oct-08 10:40:16.875 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:NanoPlot` matches process NanoPlot
Oct-08 10:40:16.880 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:16.880 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:16.898 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Low_complexity_filtering_nanopore` matches process Low_complexity_filtering_nanopore
Oct-08 10:40:16.903 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:16.903 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:16.960 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Host_depletion_nanopore` matches process Host_depletion_nanopore
Oct-08 10:40:16.970 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:16.976 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.035 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Kraken_prefilter_nanopore` matches process Kraken_prefilter_nanopore
Oct-08 10:40:17.041 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.042 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.092 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Extract_db` matches process Extract_db
Oct-08 10:40:17.100 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.100 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.200 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Minimap2_nanopore` matches process Minimap2_nanopore
Oct-08 10:40:17.208 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.208 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.274 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Collect_alignment_results` matches process Collect_alignment_results
Oct-08 10:40:17.280 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.280 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.313 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Collect_unassigned_results` matches process Collect_unassigned_results
Oct-08 10:40:17.317 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.317 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.360 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Classify` matches process Classify
Oct-08 10:40:17.366 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.366 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.387 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:Write_report` matches process Write_report
Oct-08 10:40:17.390 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Oct-08 10:40:17.391 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Oct-08 10:40:17.400 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: Low_complexity_filtering_nanopore, Extract_db, Cluster_unclassified_reads, Classify, Collect_unassigned_results_illumina, Host_depletion_illumina, Minimap2_nanopore, Sam_conversion, Chopper_RT, Write_report_RT, Align_fungi, Collect_unassigned_results_RT, Trimming_FastP, Minimap2_illumina, Kraken_prefilter, Extract_true_novel, NanoPlot, Collect_unassigned_results, Write_report, Sourmash_prefilter_nanopore, Eggnog_mapper, Identify_resistant_plasmids, Collect_alignment_results, Kraken_prefilter_nanopore, Merge_classifiy_RT, Classify_RT, Accumulate_reports, MetaFlye, Extract_fungi, Low_complexity_filtering, Collect_alignment_results_RT, Host_depletion_nanopore, Classify_orthologs, Diamond_translated_alignment_unclassified, Combine_fq, Chopper, Write_report_orthologs
Oct-08 10:40:17.417 [main] DEBUG nextflow.Session - Igniting dataflow network (19)
Oct-08 10:40:17.442 [PathVisitor-3] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /private/groups/kimlab/vikas/metagenomics/publication/ncm_2024/input/time_tagged_input/CSF001/; pattern: **.fastq.gz; options: [:]
Oct-08 10:40:17.445 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Chopper
Oct-08 10:40:17.452 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > NanoPlot
Oct-08 10:40:17.455 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Low_complexity_filtering_nanopore
Oct-08 10:40:17.461 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Host_depletion_nanopore
Oct-08 10:40:17.463 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Kraken_prefilter_nanopore
Oct-08 10:40:17.464 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Extract_db
Oct-08 10:40:17.469 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Minimap2_nanopore
Oct-08 10:40:17.474 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Collect_alignment_results
Oct-08 10:40:17.475 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Collect_unassigned_results
Oct-08 10:40:17.476 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Classify
Oct-08 10:40:17.482 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > Write_report
Oct-08 10:40:17.485 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_785641a1e96b2f47: /data/scratch/vpeddu/aPOMP/./illumina_modules.nf
  Script_1b109e1f3d0b60c1: /data/scratch/vpeddu/aPOMP/main.nf
  Script_981e6b93449c97e5: /data/scratch/vpeddu/aPOMP/./nanopore_modules.nf
Oct-08 10:40:17.485 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Oct-08 10:40:17.486 [main] DEBUG nextflow.Session - Session await
Oct-08 10:40:18.049 [Actor Thread 46] INFO  nextflow.processor.TaskProcessor - [df/17f062] Cached process > Chopper (1)
Oct-08 10:40:18.163 [Actor Thread 54] INFO  nextflow.processor.TaskProcessor - [93/c34442] Cached process > Low_complexity_filtering_nanopore (1)
Oct-08 10:40:18.175 [Actor Thread 55] INFO  nextflow.processor.TaskProcessor - [f7/86c616] Cached process > NanoPlot (1)
Oct-08 10:40:18.488 [Task submitter] DEBUG nextflow.executor.GridTaskHandler - [SLURM] submitted process Host_depletion_nanopore (1) > jobId: 5228603; workDir: /data/scratch/vpeddu/aPOMP/work/17/57cbd4df3324b55cf98080aad3106a
Oct-08 10:40:18.489 [Task submitter] INFO  nextflow.Session - [17/57cbd4] Submitted process > Host_depletion_nanopore (1)
Oct-08 10:40:40.831 [SIGINT handler] DEBUG nextflow.Session - Session aborted -- Cause: SIGINT
Oct-08 10:40:40.868 [SIGINT handler] DEBUG nextflow.Session - The following nodes are still active:
[process] Kraken_prefilter_nanopore
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: kraken2_db
  port 2: (cntrl) -     ; channel: $

[process] Extract_db
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: fastadb
  port 2: (value) bound ; channel: extract_script
  port 3: (value) bound ; channel: fungi_genera_list
  port 4: (value) bound ; channel: prefilter_threshold
  port 5: (cntrl) -     ; channel: $

[process] Minimap2_nanopore
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] Collect_alignment_results
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

[process] Collect_unassigned_results
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: filter_unassigned_reads
  port 2: (cntrl) -     ; channel: $

[process] Classify
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: taxdump
  port 2: (value) bound ; channel: classify_script
  port 3: (cntrl) -     ; channel: $

[process] Write_report
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (value) bound ; channel: taxasqlite
  port 2: (value) bound ; channel: write_report_script
  port 3: (cntrl) -     ; channel: $

Oct-08 10:40:40.872 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: slurm) - terminating tasks monitor poll loop
Oct-08 10:40:40.872 [main] DEBUG nextflow.Session - Session await > all processes finished
Oct-08 10:40:40.873 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-08 10:40:40.892 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (1)
Oct-08 10:40:40.938 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=0; ignoredCount=0; cachedCount=3; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=1; succeedDuration=0ms; failedDuration=0ms; cachedDuration=13m 54s;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=16; peakMemory=32 GB; ]
Oct-08 10:40:40.938 [main] DEBUG nextflow.trace.TraceFileObserver - Workflow completed -- saving trace file
Oct-08 10:40:40.942 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
Oct-08 10:40:42.589 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-08 10:40:42.631 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.9.1'
Oct-08 10:40:42.632 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Oct-08 10:40:42.638 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
